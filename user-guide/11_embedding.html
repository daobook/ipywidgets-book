
<!DOCTYPE html>

<html lang="zh">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Embedding Jupyter Widgets in Other Contexts than the Notebook &#8212; 品味人生</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/xin-css/main.css" />
    <link rel="stylesheet" type="text/css" href="../_static/w3css/4/w3pro.css" />
    <link rel="stylesheet" type="text/css" href="../_static/w3css/4/w3mobile.css" />
    <link rel="stylesheet" type="text/css" href="../_static/w3css/4/w3.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/tabs.js"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script kind="utterances">

    var commentsRunWhenDOMLoaded = cb => {
    if (document.readyState != 'loading') {
        cb()
    } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', cb)
    } else {
        document.attachEvent('onreadystatechange', function() {
        if (document.readyState == 'complete') cb()
        })
    }
}

var addUtterances = () => {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.async = "async";

    script.setAttribute("repo", "daobook/ipywidgets-book");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute("theme", "github-light");
    script.setAttribute("label", "💬 comment");
    script.setAttribute("crossorigin", "anonymous");

    sections = document.querySelectorAll("div.section");
    if (sections !== null) {
        section = sections[sections.length-1];
        section.appendChild(script);
    }
}
commentsRunWhenDOMLoaded(addUtterances);
</script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../_static/page-logo.jfif"/>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="Weather map" href="layout-example.html" />
    <link rel="prev" title="Asynchronous Widgets" href="10_widget-asynchronous.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.jpg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">品味人生</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p class="caption">
 <span class="caption-text">
  教程
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   用户手册
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="00_install.html">
     安装
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="01_intro.html">
     简单的小部件
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="02_widget-list.html">
     小部件清单
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03_output-widget.html">
     Output 小部件
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04_widget-events.html">
     小部件事件
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="05_widget-styling.html">
     布局和样式
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="06_layout-templates.html">
     使用 Layout 模板
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="07_widget-custom.html">
     Building a Custom Widget -  Email widget
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08_using-interact.html">
     Using Interact
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09_widget-low-level.html">
     Low Level Widget Tutorial
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="10_widget-asynchronous.html">
     Asynchronous Widgets
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Embedding Jupyter Widgets in Other Contexts than the Notebook
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="layout-example.html">
     Weather map
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="test.html">
     测试
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  附录
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../faqs.html">
   常见问题
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  <div class="w3-padding w3-card-4 w3-pale-green">
  <a href="https://github.com/xinetzone" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub"
      data-position="top" data-delay="50">
      <i class="fab fa-github"></i>
  </a>
  <a href="mailto:q735613050@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top"
      data-delay="50">
      <i class="fas fa-envelope-open"></i>
  </a>
  <a href="tencent://AddContact/?fromId=50&amp;fromSubId=1&amp;subcmd=all&amp;uin=735613050" class="tooltipped"
      target="_blank" data-tooltip="QQ联系我: 735613050" data-position="top" data-delay="50">
      <i class="fab fa-qq"></i>
  </a>
  <a href="https://www.zhihu.com/people/liu-xin-wei-55" class="tooltipped" target="_blank"
      data-tooltip="关注我的知乎: liu-xin-wei-55" data-position="top" data-delay="50">
      <i class="fab fa-zhihu1">知</i>
  </a>
  <a target="_blank" rel="noopener" href="https://www.linkedin.com/in/xinet" class="tooltipped"
      data-tooltip="领英联系我: xinet" data-position="top" data-delay="50">
      <i class="fab fa-linkedin"></i>
  </a>
  <div><a href="https://github.com/daobook/ipywidgets-book">Jupyter Book</a> 版权所有</div>
</div> 

</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        <a class="dropdown-buttons"
            href="../_sources/user-guide/11_embedding.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download notebook file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/user-guide/11_embedding.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/daobook/ipywidgets-book"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/daobook/ipywidgets-book/issues/new?title=Issue%20on%20page%20%2Fuser-guide/11_embedding.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/daobook/ipywidgets-book/main?urlpath=tree/docs/user-guide/11_embedding.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#embedding-widgets-in-html-web-pages">
   Embedding Widgets in HTML Web Pages
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#save-notebook-widget-state">
     Save Notebook Widget State
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#embeddable-html-snippet">
     Embeddable HTML Snippet
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#widget-state-json">
     Widget State JSON
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#python-interface">
   Python interface
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#embedding-widgets-in-the-sphinx-html-documentation">
   Embedding Widgets in the Sphinx HTML Documentation
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#using-the-jupyter-sphinx-extension">
     Using the Jupyter Sphinx Extension
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#using-the-nbsphinx-project">
     Using the
     <code class="docutils literal notranslate">
      <span class="pre">
       nbsphinx
      </span>
     </code>
     Project
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rendering-interactive-widgets-on-nbviewer">
   Rendering Interactive Widgets on nbviewer
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-case-of-custom-widget-libraries">
   The Case of Custom Widget Libraries
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#using-jupyter-widgets-controls-in-web-contexts">
   Using
   <code class="docutils literal notranslate">
    <span class="pre">
     jupyter-widgets-controls
    </span>
   </code>
   in web contexts
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="embedding-jupyter-widgets-in-other-contexts-than-the-notebook">
<span id="jupyter-embedding"></span><h1>Embedding Jupyter Widgets in Other Contexts than the Notebook<a class="headerlink" href="#embedding-jupyter-widgets-in-other-contexts-than-the-notebook" title="永久链接至标题">¶</a></h1>
<p>参考：<a class="reference external" href="https://ipywidgets.readthedocs.io/en/latest/embedding.html">Embedding Jupyter Widgets in Other Contexts than the Notebook</a></p>
<p>Jupyter interactive widgets can be serialized and embedded into</p>
<ul class="simple">
<li><p>static web pages</p></li>
<li><p>sphinx documentation</p></li>
<li><p>html-converted notebooks on nbviewer</p></li>
</ul>
<p>Here, we discuss embedding widgets using the custom widget manager in the <code class="docutils literal notranslate"><span class="pre">&#64;jupyter-widgets/html-manager</span></code> npm package. Two embedders are provided:</p>
<ol class="simple">
<li><p>A basic embedder that only embeds standard controls, but can be used on any web page</p></li>
<li><p>An embedder that uses RequireJS, and can embed standard and custom widgets</p></li>
</ol>
<div class="section" id="embedding-widgets-in-html-web-pages">
<h2>Embedding Widgets in HTML Web Pages<a class="headerlink" href="#embedding-widgets-in-html-web-pages" title="永久链接至标题">¶</a></h2>
<p>The classic notebook interface provides a <code class="docutils literal notranslate"><span class="pre">Widgets</span></code> menu for generating an HTML snippet
that can be embedded into any static web page:</p>
<p>The menu provides three sets of actions</p>
<ul class="simple">
<li><p>Save Notebook Widget State and Clear Notebook Widget State</p></li>
<li><p>Download Widget State</p></li>
<li><p>Embed Widgets</p></li>
</ul>
<div class="section" id="save-notebook-widget-state">
<h3>Save Notebook Widget State<a class="headerlink" href="#save-notebook-widget-state" title="永久链接至标题">¶</a></h3>
<p>A notebook file may be saved with the current widget state as metadata. This allows the notebook file to be rendered with rendered widgets (see the section about Sphinx below, for example). To save a notebook with the current widget state, use the <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">Notebook</span> <span class="pre">Widget</span> <span class="pre">State</span></code> menu item.</p>
<p>In order to delete old saved state and save new state to the notebook, do the following in order:</p>
<ol class="simple">
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">Clear</span> <span class="pre">Notebook</span> <span class="pre">Widget</span> <span class="pre">State</span></code> menu and save the notebook. This clears the metadata from the notebook file.</p></li>
<li><p>Restart the kernel and refresh the page. This clears the old widget state from the widget manager on the page.</p></li>
<li><p>Create whatever widgets you'd like, and use <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">Notebook</span> <span class="pre">Widget</span> <span class="pre">State</span></code> and save the notebook. This saves the new widget state to the notebook file.</p></li>
</ol>
</div>
<div class="section" id="embeddable-html-snippet">
<h3>Embeddable HTML Snippet<a class="headerlink" href="#embeddable-html-snippet" title="永久链接至标题">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">Embed</span> <span class="pre">widgets</span></code> menu item provides a dialog containing an HTML page
which embeds the current widgets. In order to support custom widgets, it uses the RequireJS embedder.</p>
<p>This HTML snippet is composed of multiple <code class="docutils literal notranslate"><span class="pre">&lt;script&gt;</span></code> tags embedded into an HTML document:</p>
<ul>
<li><p>The first script tag loads RequireJS from a CDN. If you already have RequireJS on the page, you can delete this script tag.</p></li>
<li><p>The second script tag loads the RequireJS widget embedder. This defines appropriate modules and then sets up a function to render all of the widget views included on the page. If you are only embedding standard widgets and do not want to use RequireJS, you can replace these first two script tags with a script tag loading the standard embedder.</p></li>
<li><p>The next script tag is a script tag with mime type
<code class="docutils literal notranslate"><span class="pre">application/vnd.jupyter.widget-state+json</span></code> that contains the state of all
the widget models currently in use. The JSON schema for the content of this
script tag is found in the <code class="docutils literal notranslate"><span class="pre">&#64;jupyter-widgets/schema</span></code> npm package.</p></li>
<li><p>Then there are a number of script tags, each with mime type
<code class="docutils literal notranslate"><span class="pre">application/vnd.jupyter.widget-view+json</span></code>, corresponding to the views which
you want to display on the web page. These script tags must be in the body of
the page, and are replaced with the rendered widgets. The JSON schema for the
content of these script tags is found in the <code class="docutils literal notranslate"><span class="pre">&#64;jupyter-widgets/schema</span></code> npm
package.</p>
<p>The <em>Embed Widgets</em> action currently creates one of these script tags for each
view displayed in the notebook. If you'd like to lay out the views, or include
only some of them, you can delete or include these script tags as you wish.</p>
</li>
</ul>
<p>In order to clear widget state from the frontend so that it does not show up in the embedding, restart the kernel and then refresh the page, in that order.</p>
</div>
<div class="section" id="widget-state-json">
<h3>Widget State JSON<a class="headerlink" href="#widget-state-json" title="永久链接至标题">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Widget</span> <span class="pre">State</span></code> option triggers the downloading of a JSON file
containing the serialized state of all the widget models currently in use, using
the <code class="docutils literal notranslate"><span class="pre">application/vnd.jupyter.widget-state+json</span></code> format specified in the
<code class="docutils literal notranslate"><span class="pre">&#64;jupyter-widgets/schema</span></code> npm package.</p>
</div>
</div>
<div class="section" id="python-interface">
<h2>Python interface<a class="headerlink" href="#python-interface" title="永久链接至标题">¶</a></h2>
<p>Embeddable code for the widgets can also be produced from Python. The
<code class="docutils literal notranslate"><span class="pre">ipywidgets.embed</span></code> module provides several functions for embedding widgets
into HTML documents programmatically.</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">embed_minimal_html</span></code> to create a simple, stand-alone HTML page:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="kn">import</span> <span class="n">IntSlider</span>
<span class="kn">from</span> <span class="nn">ipywidgets.embed</span> <span class="kn">import</span> <span class="n">embed_minimal_html</span>

<span class="n">slider</span> <span class="o">=</span> <span class="n">IntSlider</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
<span class="n">embed_minimal_html</span><span class="p">(</span><span class="s1">&#39;export.html&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">=</span><span class="p">[</span><span class="n">slider</span><span class="p">],</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Widgets export&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This creates the stand-alone file <code class="docutils literal notranslate"><span class="pre">export.html</span></code>. To view the file, either
start an HTTP server, such as the <a class="reference external" href="https://docs.python.org/3.6/library/http.server.html#module-http.server">HTTP
server</a>
in the Python standard library, or just open it in your web browser (by
double-clicking on the file, or by writing <code class="docutils literal notranslate"><span class="pre">file:///path/to/file</span></code> in your
browser search bar).</p>
<p>You will sometimes want greater granularity than that afforded by
<code class="docutils literal notranslate"><span class="pre">embed_minimal_html</span></code>. Often, you want to control the structure of the HTML
document in which the widgets are embedded. For this, use <code class="docutils literal notranslate"><span class="pre">embed_data</span></code> to get
JSON exports of specific parts of the widget state. You can embed these in an
HTML template:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>

<span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="kn">import</span> <span class="n">IntSlider</span>
<span class="kn">from</span> <span class="nn">ipywidgets.embed</span> <span class="kn">import</span> <span class="n">embed_data</span>

<span class="n">s1</span> <span class="o">=</span> <span class="n">IntSlider</span><span class="p">(</span><span class="nb">max</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">s2</span> <span class="o">=</span> <span class="n">IntSlider</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">embed_data</span><span class="p">(</span><span class="n">views</span><span class="o">=</span><span class="p">[</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">])</span>

<span class="n">html_template</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">&lt;html&gt;</span>
<span class="s2">  &lt;head&gt;</span>

<span class="s2">    &lt;title&gt;Widget export&lt;/title&gt;</span>

<span class="s2">    &lt;!-- Load RequireJS, used by the IPywidgets for dependency management --&gt;</span>
<span class="s2">    &lt;script </span>
<span class="s2">      src=&quot;https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js&quot; </span>
<span class="s2">      integrity=&quot;sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=&quot; </span>
<span class="s2">      crossorigin=&quot;anonymous&quot;&gt;</span>
<span class="s2">    &lt;/script&gt;</span>

<span class="s2">    &lt;!-- Load IPywidgets bundle for embedding. --&gt;</span>
<span class="s2">    &lt;script</span>
<span class="s2">      data-jupyter-widgets-cdn=&quot;https://unpkg.com/&quot;</span>
<span class="s2">      data-jupyter-widgets-cdn-only</span>
<span class="s2">      src=&quot;https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@*/dist/embed-amd.js&quot; </span>
<span class="s2">      crossorigin=&quot;anonymous&quot;&gt;</span>
<span class="s2">    &lt;/script&gt;</span>

<span class="s2">    &lt;!-- The state of all the widget models on the page --&gt;</span>
<span class="s2">    &lt;script type=&quot;application/vnd.jupyter.widget-state+json&quot;&gt;</span>
<span class="s2">      {manager_state}</span>
<span class="s2">    &lt;/script&gt;</span>
<span class="s2">  &lt;/head&gt;</span>

<span class="s2">  &lt;body&gt;</span>

<span class="s2">    &lt;h1&gt;Widget export&lt;/h1&gt;</span>

<span class="s2">    &lt;div id=&quot;first-slider-widget&quot;&gt;</span>
<span class="s2">      &lt;!-- This script tag will be replaced by the view&#39;s DOM tree --&gt;</span>
<span class="s2">      &lt;script type=&quot;application/vnd.jupyter.widget-view+json&quot;&gt;</span>
<span class="s2">        {widget_views[0]}</span>
<span class="s2">      &lt;/script&gt;</span>
<span class="s2">    &lt;/div&gt;</span>

<span class="s2">    &lt;hrule /&gt;</span>

<span class="s2">    &lt;div id=&quot;second-slider-widget&quot;&gt;</span>
<span class="s2">      &lt;!-- This script tag will be replaced by the view&#39;s DOM tree --&gt;</span>
<span class="s2">      &lt;script type=&quot;application/vnd.jupyter.widget-view+json&quot;&gt;</span>
<span class="s2">        {widget_views[1]}</span>
<span class="s2">      &lt;/script&gt;</span>
<span class="s2">    &lt;/div&gt;</span>

<span class="s2">  &lt;/body&gt;</span>
<span class="s2">&lt;/html&gt;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">manager_state</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;manager_state&#39;</span><span class="p">])</span>
<span class="n">widget_views</span> <span class="o">=</span> <span class="p">[</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">view</span><span class="p">)</span> <span class="k">for</span> <span class="n">view</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;view_specs&#39;</span><span class="p">]]</span>
<span class="n">rendered_template</span> <span class="o">=</span> <span class="n">html_template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">manager_state</span><span class="o">=</span><span class="n">manager_state</span><span class="p">,</span> <span class="n">widget_views</span><span class="o">=</span><span class="n">widget_views</span><span class="p">)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;export.html&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
    <span class="n">fp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">rendered_template</span><span class="p">)</span>
</pre></div>
</div>
<p>The web page needs to load RequireJS and the Jupyter widgets HTML manager.
You then need to include the manager state in a <code class="docutils literal notranslate"><span class="pre">&lt;script&gt;</span></code> tag of type
<code class="docutils literal notranslate"><span class="pre">application/vnd.jupyter.widget-state+json</span></code>, which can go in the head of the
document. For each widget view, place a <code class="docutils literal notranslate"><span class="pre">&lt;script&gt;</span></code> tag of type
<code class="docutils literal notranslate"><span class="pre">application/vnd.jupyter.widget-view+json</span></code> in the DOM element that should
contain the view. The widget manager will replace each <code class="docutils literal notranslate"><span class="pre">&lt;script&gt;</span></code> tag with
the DOM tree corresponding to the widget.</p>
<p>In this example, we used a Python string for the template, and used the
<code class="docutils literal notranslate"><span class="pre">format</span></code> method to interpolate the state. For embedding in more complex
documents, you may want to use a templating engine like
<a class="reference external" href="http://jinja.pocoo.org/">Jinja2</a>.</p>
<p>We also change the CDN from its default of jsdelivr to use unpkg by setting the
<code class="docutils literal notranslate"><span class="pre">data-jupyter-widgets-cdn</span></code> attribute.</p>
<p>What's more, we only load modules from the CDN by setting the
<code class="docutils literal notranslate"><span class="pre">data-jupyter-widgets-cdn-only</span></code> attribute.</p>
<p>In all embedding functions in <code class="docutils literal notranslate"><span class="pre">ipywidgets.embed</span></code>, the state of all widgets
known to the widget manager is included by default. You can alternatively
pass a reduced state to use instead. This can be particularly relevant if you
have many independent widgets with a large state, but only want to include
the relevant ones in your export. To include only the state of specific views
and their dependencies, use the function <code class="docutils literal notranslate"><span class="pre">dependency_state</span></code>:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ipywidgets.embed</span> <span class="kn">import</span> <span class="n">embed_minimal_html</span><span class="p">,</span> <span class="n">dependency_state</span>

<span class="n">s1</span> <span class="o">=</span> <span class="n">IntSlider</span><span class="p">(</span><span class="nb">max</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">s2</span> <span class="o">=</span> <span class="n">IntSlider</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
<span class="n">embed_minimal_html</span><span class="p">(</span><span class="s1">&#39;export.html&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">=</span><span class="p">[</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="n">state</span><span class="o">=</span><span class="n">dependency_state</span><span class="p">([</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="section" id="embedding-widgets-in-the-sphinx-html-documentation">
<h2>Embedding Widgets in the Sphinx HTML Documentation<a class="headerlink" href="#embedding-widgets-in-the-sphinx-html-documentation" title="永久链接至标题">¶</a></h2>
<p>As of ipywidgets 6.0, Jupyter interactive widgets can be rendered in Sphinx html
documentation. Two means of achieving this are provided:</p>
<div class="section" id="using-the-jupyter-sphinx-extension">
<h3>Using the Jupyter Sphinx Extension<a class="headerlink" href="#using-the-jupyter-sphinx-extension" title="永久链接至标题">¶</a></h3>
<p>The <a class="reference external" href="https://jupyter-sphinx.readthedocs.io">jupyter_sphinx</a> extension
enables jupyter-specific features in sphinx. It can be installed with <code class="docutils literal notranslate"><span class="pre">pip</span></code> and
<code class="docutils literal notranslate"><span class="pre">conda</span></code>.</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> sphinx configuration file, add <code class="docutils literal notranslate"><span class="pre">jupyter_sphinx</span></code>
to the list of enabled extensions.</p>
<p>Then use the <code class="docutils literal notranslate"><span class="pre">jupyter-execute</span></code> directive to embed the output of code execution
in your documentation</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">jupyter-execute</span><span class="p">::</span>

  from ipywidgets import VBox, jsdlink, IntSlider, Button
  s1, s2 = IntSlider(max=200, value=100), IntSlider(value=40)
  b = Button(icon=&#39;legal&#39;)
  jsdlink((s1, &#39;value&#39;), (s2, &#39;max&#39;))
  VBox([s1, s2, b])
</pre></div>
</div>
</div>
<div class="section" id="using-the-nbsphinx-project">
<h3>Using the <code class="docutils literal notranslate"><span class="pre">nbsphinx</span></code> Project<a class="headerlink" href="#using-the-nbsphinx-project" title="永久链接至标题">¶</a></h3>
<p>The <a class="reference external" href="https://nbsphinx.readthedocs.io/">nbsphinx</a> Sphinx extension
provides a source parser for <code class="docutils literal notranslate"><span class="pre">*.ipynb</span></code> files. Custom Sphinx directives are used
to show Jupyter Notebook code cells (and of course their results) in both HTML
and LaTeX output.
In the case of the HTML output, Jupyter Interactive Widgets are also supported.</p>
<p>For notebooks that are executed by <code class="docutils literal notranslate"><span class="pre">nbsphinx</span></code> the widget state is automatically
generated.
For others, it is a requirement that the notebook was correctly saved with the
special &quot;Save Notebook Widget State&quot; action in the widgets menu.</p>
<p>The necessary JavaScript code is automatically embedded in the generated HTML
files.
A custom URL or a local JavaScript file can be specified with the
<code class="docutils literal notranslate"><span class="pre">nbsphinx_widgets_path</span></code> configuration option.
For more configuration options, have a look at the
<a class="reference external" href="https://nbsphinx.readthedocs.io/usage.html">documentation</a>.</p>
</div>
</div>
<div class="section" id="rendering-interactive-widgets-on-nbviewer">
<h2>Rendering Interactive Widgets on <a class="reference external" href="http://nbviewer.jupyter.org/">nbviewer</a><a class="headerlink" href="#rendering-interactive-widgets-on-nbviewer" title="永久链接至标题">¶</a></h2>
<p>If your notebook was saved with the special &quot;Save Notebook Widget State&quot; action
in the Widgets menu, interactive widgets displayed in your notebook should also
be rendered on nbviewer.</p>
<p>See e.g. the <a class="reference external" href="http://nbviewer.jupyter.org/github/jupyter-widgets/ipywidgets/blob/master/docs/source/examples/Widget%20List.ipynb">Widget List</a>
example from the documentation.</p>
</div>
<div class="section" id="the-case-of-custom-widget-libraries">
<h2>The Case of Custom Widget Libraries<a class="headerlink" href="#the-case-of-custom-widget-libraries" title="永久链接至标题">¶</a></h2>
<p>Custom widgets can also be rendered on nbviewer, static HTML and RTD
documentation. An illustration of this is the <a class="reference external" href="http://jupyter.org/widgets">http://jupyter.org/widgets</a>
gallery.</p>
<p>The widget embedder attempts to fetch the model and view implementation of the
custom widget from the npm CDN <a class="reference external" href="https://cdn.jsdelivr.net/npm">https://cdn.jsdelivr.net/npm</a> by default. The URL that is requested
for, e.g. the <code class="docutils literal notranslate"><span class="pre">bqplot</span></code> module name, with the semver range <code class="docutils literal notranslate"><span class="pre">^2.0.0</span></code> is</p>
<p><code class="docutils literal notranslate"><span class="pre">https://cdn.jsdelivr.net/npm/bqplot&#64;^2.0.0/dist/index.js</span></code></p>
<p>which holds the webpack bundle for the bqplot library.</p>
<p>While the default CDN is using <a class="reference external" href="https://cdn.jsdelivr.net/npm">https://cdn.jsdelivr.net/npm</a> it can be configured by
setting the optional <code class="docutils literal notranslate"><span class="pre">data-jupyter-widgets-cdn</span></code> attribute for script tag which loads <code class="docutils literal notranslate"><span class="pre">embed-amd.js</span></code>,
as shown in the example above.</p>
<p>While the default strategy is loading modules from the same site, and then
falling back to CDN. This can be configured by setting the optional
<code class="docutils literal notranslate"><span class="pre">data-jupyter-widgets-cdn-only</span></code> attribute for script tag which loads <code class="docutils literal notranslate"><span class="pre">embed-amd.js</span></code>
as shown in the example above too.</p>
<p>The <a class="reference external" href="https://github.com/jupyter/widget-cookiecutter">widget-cookiecutter</a>
template project contains a template project for a custom widget library
following the best practices for authoring widgets, which ensure that your
custom widget library can render on nbviewer.</p>
</div>
<div class="section" id="using-jupyter-widgets-controls-in-web-contexts">
<h2>Using <code class="docutils literal notranslate"><span class="pre">jupyter-widgets-controls</span></code> in web contexts<a class="headerlink" href="#using-jupyter-widgets-controls-in-web-contexts" title="永久链接至标题">¶</a></h2>
<p>The core <code class="docutils literal notranslate"><span class="pre">jupyter-widgets-controls</span></code> library, the JavaScript package of ipywidgets, is
agnostic to the context in which it is used (Notebook, JupyterLab, static web
page). For each context, we specialize the base widget manager implemented in
<code class="docutils literal notranslate"><span class="pre">&#64;jupyter-widgets/base</span></code> to provide the logic for</p>
<ul class="simple">
<li><p>where widgets should be displayed,</p></li>
<li><p>how to retrieve information about their state.</p></li>
</ul>
<p>Specifically:</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">widgetsnbextension</span></code> Python package provides the implementation of a specialized widget
manager for the classic Jupyter notebook, and the packaging logic as a notebook
extension.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">&#64;jupyter-widgets/jupyterlab-manager</span></code> npm package provides the implementation of a specialized widget
manager for the context of <code class="docutils literal notranslate"><span class="pre">JupyterLab</span></code>, and the packaging logic as a lab
extension.</p></li>
<li><p>The embed manager implemented in the <code class="docutils literal notranslate"><span class="pre">&#64;jupyter-widgets/html-manager</span></code> npm package is a specialization of
the base  widget manager used for the static embedding of widgets used by
the <code class="docutils literal notranslate"><span class="pre">Sphinx</span></code> extension, <code class="docutils literal notranslate"><span class="pre">nbviewer</span></code>, and the &quot;Embed Widgets&quot; command
discussed above.</p></li>
</ul>
<p>We provide <a class="reference external" href="https://github.com/jupyter-widgets/ipywidgets/tree/master/examples">additional examples</a> of specializations of the base widget manager
implementing other usages of Jupyter widgets in web contexts.</p>
<ol class="simple">
<li><p>The <a class="reference external" href="https://github.com/jupyter-widgets/ipywidgets/tree/master/examples/web1"><code class="docutils literal notranslate"><span class="pre">web1</span></code></a> example is a simplistic example showcasing the use of
Jupyter widgets in a web context.</p></li>
<li><p>The <a class="reference external" href="https://github.com/jupyter-widgets/ipywidgets/tree/master/examples/web2"><code class="docutils literal notranslate"><span class="pre">web2</span></code></a> example is a simple example making use of the
<code class="docutils literal notranslate"><span class="pre">application/vnd.jupyter.widget-state+json</span></code> mime type.</p></li>
<li><p>The <a class="reference external" href="https://github.com/jupyter-widgets/ipywidgets/tree/master/examples/web3"><code class="docutils literal notranslate"><span class="pre">web3</span></code></a> example showcases how communication with a Jupyter kernel can
happen in a web context outside of the notebook or jupyterlab contexts.</p></li>
<li><p>The <a class="reference external" href="https://github.com/jupyter-widgets/ipywidgets/tree/master/examples/web-tmpnb"><code class="docutils literal notranslate"><span class="pre">web-tmpnb</span></code></a> example makes use of the <code class="docutils literal notranslate"><span class="pre">tmpnb</span></code> service to spawn a Jupyter
server, request a kernel from this server and implement the same feature as
the <code class="docutils literal notranslate"><span class="pre">web3</span></code> example.</p></li>
</ol>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "ai"
        },
        kernelOptions: {
            kernelName: "ai",
            path: "./user-guide"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'ai'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="10_widget-asynchronous.html" title="上一页 页">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">上一页</p>
                <p class="prevnext-title">Asynchronous Widgets</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="layout-example.html" title="下一页 页">
            <div class="prevnext-info">
                <p class="prevnext-label">下一页</p>
                <p class="prevnext-title">Weather map</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By xinetzone<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>